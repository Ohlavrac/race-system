"use strict";(()=>{var r=2707666095,o=3,y=39,R=40,T=54,s=!1,n=null,i=null,l={raceName:"FirstRace",checkpoint:[]};function b(e){let t=e-90;return t<0?360-(t*=-1):t}function m(e){let t=e+90;return t>360?t-360:t}function I(){for(let e=0;e<l.checkpoint.length;e++){let t=GetClosestObjectOfType(l.checkpoint[e].coordLeft[0],l.checkpoint[e].coordLeft[1],l.checkpoint[e].coordLeft[2],100,r,!0,!1,!1),c=GetClosestObjectOfType(l.checkpoint[e].coordRight[0],l.checkpoint[e].coordRight[1],l.checkpoint[e].coordRight[2],100,r,!0,!1,!1);DeleteObject(t),DeleteObject(c)}}RegisterCommand("createrace",()=>{s=!0},!1);RegisterCommand("exitcreaterace",()=>{s=!1},!1);RegisterCommand("saverace",()=>{l.checkpoint.length>1&&I(),s=!1},!1);setTick(async()=>{let e=GetPlayerPed(PlayerId()),t=GetEntityCoords(e,!0),c=t[2],a=t[1],f=t[0];if(s){let E=GetEntityHeading(e),O=b(E)*Math.PI/180,P=m(E)*Math.PI/180,h=f+o*Math.cos(O-1.5),u=a+o*Math.sin(O-1.5),d=c,C=f+o*Math.cos(P-1.5),g=a+o*Math.sin(P-1.5),p=c;if((!n||!i)&&(n=CreateObject(r,h,u,d,!1,!1,!1),i=CreateObject(r,C,g,p,!1,!1,!1),SetEntityAlpha(n,150,!1),SetEntityAlpha(i,150,!1),SetEntityCollision(n,!1,!1),SetEntityCollision(i,!1,!1),FreezeEntityPosition(n,!0),FreezeEntityPosition(i,!0)),SetEntityCoordsNoOffset(n,h,u,d,!0,!0,!0),SetEntityCoordsNoOffset(i,C,g,p,!0,!0,!0),PlaceObjectOnGroundProperly(n),PlaceObjectOnGroundProperly(i),IsControlPressed(0,y)&&(o+=1,console.log(o)),IsControlPressed(0,R)&&o>2&&(o-=1),IsControlJustPressed(0,T)){let k={checkpointIndex:l.checkpoint.length,coordLeft:[h,u,d],coordRight:[C,g,p],coordCenter:[f,a]};l.checkpoint.push(k),console.log("CheckpointIndex: ",k.checkpointIndex),console.log(l.checkpoint),n=null,i=null}}});})();
