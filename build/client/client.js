"use strict";(()=>{var P=t=>new Promise(e=>setTimeout(e,t)),s=2707666095,l=8,k=39,j=40,y=54,h=!1,o={raceName:"FirstRace",checkpoint:[]};function L(t){let e=t-90;return e<0?360-(e*=-1):e}function I(t){let e=t+90;return e>360?e-360:e}RegisterCommand("createrace",()=>{h=!0},!1);RegisterCommand("exitcreaterace",()=>{h=!1},!1);RegisterCommand("saverace",()=>{let t=GetClosestObjectOfType(o.checkpoint[0].coordLeft[0],o.checkpoint[0].coordLeft[1],o.checkpoint[0].coordLeft[2],100,s,!0,!1,!1),e=GetClosestObjectOfType(o.checkpoint[0].coordRight[0],o.checkpoint[0].coordRight[1],o.checkpoint[0].coordRight[2],100,s,!0,!1,!1);DeleteObject(t),DeleteObject(e)},!1);setTick(async()=>{let t=GetPlayerPed(PlayerId()),e;e=GetEntityCoords(t,!0);let c=e[2],i=e[1],f=e[0];if(h){let O=GetEntityHeading(t),d=L(O)*3.14/180,g=I(O)*3.14/180,n=f+l*Math.cos(d-1.5),C=i+l*Math.sin(d-1.5),R=c,r=f+l*Math.cos(g-1.5),u=i+l*Math.sin(g-1.5),b=c,p=CreateObjectNoOffset(s,n,C,c,!1,!1,!1),T=CreateObjectNoOffset(s,r,u,c,!1,!1,!1);if(PlaceObjectOnGroundProperly(p),PlaceObjectOnGroundProperly(T),IsControlPressed(0,k)&&(l=l+1,console.log(l)),IsControlPressed(0,j)&&l>2&&(l-=1),IsControlJustPressed(0,y)){let a={checkpointIndex:o.checkpoint.length,coordLeft:[n,C,R],coordRight:[r,u,b],coordCenter:[f,i]};o.checkpoint.push(a),console.log("CheckpontIndex: ",a.checkpointIndex),console.log(o.checkpoint)}else{await P(.1);let a=GetClosestObjectOfType(n,n,c,100,s,!0,!1,!1),E=GetClosestObjectOfType(r,r,c,100,s,!0,!1,!1);console.log(a,E),DeleteObject(p),DeleteObject(T)}}});})();
