"use strict";(()=>{var k=e=>new Promise(t=>setTimeout(t,e)),c=2707666095,n=8,y=39,b=40,j=54,h=!1,l={raceName:"FirstRace",checkpoint:[]};function L(e){let t=e-90;return t<0?360-(t*=-1):t}function m(e){let t=e+90;return t>360?t-360:t}function I(){for(let e=0;e<l.checkpoint.length;e++){let t=GetClosestObjectOfType(l.checkpoint[e].coordLeft[0],l.checkpoint[e].coordLeft[1],l.checkpoint[e].coordLeft[2],100,c,!0,!1,!1),o=GetClosestObjectOfType(l.checkpoint[e].coordRight[0],l.checkpoint[e].coordRight[1],l.checkpoint[e].coordRight[2],100,c,!0,!1,!1);DeleteObject(t),DeleteObject(o)}}RegisterCommand("createrace",()=>{h=!0},!1);RegisterCommand("exitcreaterace",()=>{h=!1},!1);RegisterCommand("saverace",()=>{l.checkpoint.length>1&&I(),h=!1},!1);setTick(async()=>{let e=GetPlayerPed(PlayerId()),t;t=GetEntityCoords(e,!0);let o=t[2],g=t[1],C=t[0];if(h){let d=GetEntityHeading(e),O=L(d)*3.14/180,p=m(d)*3.14/180,s=C+n*Math.cos(O-1.5),u=g+n*Math.sin(O-1.5),T=o,i=C+n*Math.cos(p-1.5),E=g+n*Math.sin(p-1.5),P=o,r=CreateObject(c,s,u,o,!1,!1,!1),a=CreateObject(c,i,E,o,!1,!1,!1);if(PlaceObjectOnGroundProperly(r),PlaceObjectOnGroundProperly(a),IsControlPressed(0,y)&&(n=n+1,console.log(n)),IsControlPressed(0,b)&&n>2&&(n-=1),IsControlJustPressed(0,j)){let f={checkpointIndex:l.checkpoint.length,coordLeft:[s,u,T],coordRight:[i,E,P],coordCenter:[C,g]};l.checkpoint.push(f),console.log("CheckpontIndex: ",f.checkpointIndex),console.log(l.checkpoint)}else{await k(.1);let f=GetClosestObjectOfType(s,s,o,100,c,!0,!1,!1),R=GetClosestObjectOfType(i,i,o,100,c,!0,!1,!1);console.log(f,R),SetEntityAlpha(r,150,!1),SetEntityAlpha(a,150,!1),SetEntityCollision(r,!1,!1),SetEntityCollision(a,!1,!1),FreezeEntityPosition(r,!0),FreezeEntityPosition(a,!0)}}});})();
